<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>插槽 作用域插槽的基本用法</title>
</head>
<body>
    
</body>
<script>
    // 1. 作用域插槽
        // 昨天我们写了一首诗词，那么今天我们看一下在我们的 Article组件中咱们放了三个插槽，在咱们这个插槽里面有一个 name 属性，起了一个名字，除此之外，我们 还可以加一些自定义属性，比如添加一个 msg=""

        // 当前我给最后一个文章作者加了一个 msg="hello vue"的属性，属性值是字符串 hello vue，那这个属性代表什么意思，代表我们希望将来用户在这个插槽里渲染插槽具体内容的时候能够用到 msg 这个属性对应的数据，也就是说我们希望将来能用到 msg 这个数据，我们给它传了一个值，比如我们现在是不是在 第三个插槽里面，也就是App组件第三个文章作者的内容会填充到 第三个插槽里面对吧，那它在填充内容的时候在 App 组件里面可以访问到 msg 的值，是不是相当于是一个子传父

        // msg="hello vue" 这个属性对应的值目前属性的是 Article 子组件对吧，那我在 App 父组件里面用到 了 Article组件了，然后我们希望在父组件中能够直接访问到子组件里面的 msg 对应的值，在 子组件中 msg 是数据的来源，那在 父组件中我们能否拿到msg 对应的值，如果能怎么搞

        // 大家来看 #author 代表要把里面的内容填充到 第三个插槽里面去 同时我们可以用等号接收一个对象，我们输出这个对象

        // 返回的是一个对象对吧，对象里面有几个属性，是不是一个 msg 属性，值是不是也是对应的 hello vue

        // 那大家来想，这个msg 属性是在子组件声明的，那我们为啥在父组件中接收到了，是不是插槽可以接收到插槽身上给咱们传的数据，所以在插槽定义的时候还可以定义一些数据，给谁使用，是不是给咱们父组件在用这个插槽的时候给 用户定义的内容上去用啊

        // 那如果我没有传 msg 数据呢，会是什么呢  会是一个空对象，那我们默认的情况下，有没有用等号接收一个对象 obj 吗，是不是没有，为啥没有，是不是没有意义，那不传数据，你接收了也是一个空对象

        // 接着来看，我传了数据，在 父组件中的也接收了这个数据，那我想用这个属性怎么使用 在 p 标签里我希望把 msg 里面的值渲染到页面上，是不是可以 obj.msg

        // 那这种在预留插槽时候声明一些数据项，然后再使用插槽的时候接收并使用，这种用法叫作用域插槽

        // 在插槽中如果我们不提供任何属性，只提供一个name 是不是叫具名插槽，那除了有name之外又加了别的属性，只要一加咱们这个插槽就变成了一个作用域插槽了

        // 在用户定义内容的一方 #author 等于后面一定是 obj 吗，不是吧，也可以叫其他名字，但是建议大家以后尽量都叫 scope,因为这个 scope代表就是作用域的意思

    // 2. 作用域插槽的解构赋值
        // 我们在插槽里面传递了 msg 数据对吧，就一定写在行内吗？接下来我在 Article 组件里面定义一个 data ，里面有一个用户信息对象，接下来我希望把这个 userInfo 也作为数据传给第三个插槽，怎么搞

        // 我要把 userInfo 的值作为数据传给 插槽中 user 属性，能不能直接把 userInfo 这个对象放到 user 属性里面，是不是不可用，那这样是不是代表我给 user 这个属性传了一个 值叫 userInfo，是不是应该 动态绑定一下  

        // 现在我们是不是为 author这个插槽提供了两份数据，一个叫 msg，一个是 user ,那我们在 App 组件通过 obj接收到以后 输出一下,
        // 输出之后返回的是一个大对象，里面包含了msg 属性 和 user 属性 ，那现在有两个属性，我只想用 msg 的值，直接 obj.msg 是不是就可以了

        // 那我们之前是不是学习了 结构赋值了我们可以将这个对象进行一下解构


    // 3. 基于 slot 插槽改造购物车案例 1
        // 我们现在把 Counter 组件注释点
        // 使用我们的插槽来进行改造
        // 那么这个时候是不是就是谁使用 Goods组件，谁就往里面传递信息就可以了，那谁使用了 这个 Goods组件，是不是 App 组件，那么我们在 App组件中 使用了 <Goods></Goods>,那么我们有没有定义内容传给 插槽，是不是没有，我们传递一个abc 是不是可以显示，那我们在里面在去传递一个布局合适吗？是不是不合适，怎么搞

        // 是不是可以把 Counter组件传递进去  我们可以试一试，使用 Counter组件需要我们导入注册,在使用时候我是不是就可以以标签的形式使用了,
        // 那这里有什么后果，是不是会渲染 Counter 组件内容，那我们这里是不是没有包着 template 标签，因为啥呢，是不是我没有给插槽指定 name 名，也没有去使用 v-slot:指令对吧


    // 4. 基于 slot 插槽改造购物车案例 2
        // 那我现在已经把这个按钮数量渲染到页面了，但是点击按钮没有功能，我们完成这个功能

        // 我们在点击加号或者减号的时候是不是应该修改这个里面的数量值，那要不要先把这个数量值传到 Counter 组件里面去 ，怎么传
        // 在循环 Goods 的时候是不是通过 v-for 循环的，那 item 是当前循环项吧，那能不能点出来 item 数量值啊，item.goods_count是不是就是那个数量值，在外层循环的时候可以访问到我们的 item ,那内层的 Counter 组件能不能访问  item.goods_count，是不是可以，那我们只需要把 item.goods_count 传给 Counter是不是就可以了，咱们之前怎么把值传出来的，是不是 App 传给 Goods在传给 Counter,现在还需要多传递一次吗，是不是不需要了

        // 我们直接在 Counter 里面声明数量值就可以了，打开 Counter 组件，我们数量这边是不是默认的是写死为 1，是不是可以通过 props 定义一个num ，那我们定义好了这个num 是不是可以在  Counter组件使用

    // 5. 基于 slot 插槽改造购物车案例 3
        // 那现在我们是不是数量值动态渲染出来了，接下来实现点+ 点- 修改数组每一件商品，咱是不是绑定一个点击事件

        // 那我们现在接收到了 Counter 组件传递的数量值了，那我们有数量值是不是不勾，还需要我们的 id 对吧，那我们在 Counter 组件上可以直接访问到 item.goods_count，那我是不是可以直接将 item 传进去是不是就可以了，传id 还是传 item ，传id 是不是还的根据id 找到那一项啊，然后再去修改，那本身item就是一个对象啊，它是个引用对象吧，那给了 item 是不是就是给了数量的 item ,因为当前的item 是不是就是当前的商品，你把当前的商品传过去，直接改它的数量值，那是不是相当于改了数组里面的数量值

        // 我们传过来一个 val ，那现在是不是把 item 传过来了，那 val 还指向这个数量值吗，是不是不是了，变成了商品的 item 项了吧，，在输出一次 val ,那现在数量值被覆盖了，怎么搞
        
        // 是不是可以使用 $event ,当咱们绑定一个事件函数的时候，它的默认值e 就会被覆盖，变成了item ，那我们还想传参接收到 e ，是不是在传递item 的时候在第二个参数加一个 $event 就可以接收到了，  输出一下

        // 那前面是item 对象，后面是数量值 ，那我们现在要把数量值赋值给谁，是不是 item 对象的 goods_count

        // 那现在来看我们 $event 只能给 click之类的去用吗，是不是我们自定义事件也可以使用，只要我自定义事件里面的那个值被覆盖了是不是就可以使用 $event，这个要记住
</script>
</html>