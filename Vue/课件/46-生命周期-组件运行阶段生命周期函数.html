<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>生命周期 组件运行阶段生命周期函数</title>
  </head>
  <body></body>
  <script>
    // 1. 问题：组件创建阶段中的4个函数，一个组件它们的这些函数每一个都执行几次？
    // 一次，每个组件是不是只能被创建一次，也就是从头到尾只能执行一次

    // 2. 组件运行阶段
    // 就是用户和组件之间产生了交互，这叫运行阶段
    // 详细生命周期图示：
    // 在运行阶段相对比较简单，它只有两个函数，一个是 beforeUpdate , 另一个 updated
    // 看图，要触发第一个函数，是不是有一个条件，when data changes,就是说当数据改变的时候才会触发  beforeUpdate 这个函数，那要触发它就有一个必要的提前就是当你修改了数据才进行触发   放一个p标签--> Test.vue  进行演示

    // 第一次会触发是因为数据拿到之后是会给我们的 box 去进行赋值，会触发一次更新，之后点击按钮是不是修改message的值，也会触发

    // 在这个阶段代表将要根据变化后、最新的数据，重新渲染组件的模板结构，但是这个阶段是不是还没有开始渲染，只是将要重新渲染，
    // 那么大家来想一下，我 data 里面是新的旧的，是不是新的，只有是新的我们才会触发beforeUpdate 这个函数，那UI结构是新的旧的？

    // 是不是UI结构还没有渲染，只是将要渲染，   --> Test.vue 演示验证

    // 当beforeUpdate这个函数执行完，就立即执行接下来的处理过程，根据最新的数据，重新渲染组件的 DOM 结构，当绿色矩形一离开，就渲染完成了就会立即执行 updated ,那在updated 里面是不是就已经是渲染好了的页面，是不是数据是新的，页面也是新的  验证一下

    // 大家想一下，在组件运行阶段这两个生命周期函数执行的是几次？

    // 最少执行0次吧，因为我们只有在数据改变的时候才会触发，才会更新执行，如果数据一直没发生改变，是不是一次都不会触发，那大家要记住要操作到最新的DOM 是不是要在 updated 里面进行操作

    // 3. 组件销毁阶段
    // 快速的讲解一下就可以了，因为这个阶段我们很少使用

    // 打开 App.vue 我们用到了 Test 就相当于创建了 实例，我们之前是不是学习过 v-if ，在v- if 里面有一个特性 如果某个节点不再被需要了，或者被动态的移除了，那如果我们这个组件不再被需要了，是不是也可以动态的移除

    // 1. 首先在 App.vue 中声明一个 data
    // 2. 接下来在 Test.vue 演示一下我们两个生命周期函数，我们应该先执行beforeDestroy函数，代表将要销毁此组件，此时尚未销毁，组件还处于正常工作的状态
    // 3. 执行完 beforeDestroy 之后就会立即执行 绿色的矩形处理条件 ，代表销毁当前组件的数据侦听器、子组件、事件监听等等都会被销毁掉
    // 4. 当这些事情做完以后就会立即执行  destroyed ，只要这个函数被执行，也就是代表组件已经完全被销毁，在浏览器中对应的 DOM 结构已被完全移除了
  </script>
</html>
